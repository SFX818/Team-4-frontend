(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{113:function(e,t,a){},137:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(0),c=a(11),r=a.n(c),i=a(21),o=a(13),l=a(266),d=a.p+"static/media/Petflix_Logo-01.364a5f2f.png",j=(a(113),function(){return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("img",{src:d,alt:"Logo",className:"logo"}),Object(n.jsx)("h2",{children:"Join a community dedicated for pet lovers."}),Object(n.jsx)(l.a,{href:"/signup",children:"Sign Up"})]})}),u=a(14),b=a(262),m=a(263),h=a(256),p=a(258),O=a(259),x=a(265),f=a(260),g=a(261),v=a(98),N=a.n(v),y=a(99),w=a.n(y),k=a(97),S=a.n(k),I=a(93),C=a.n(I),T=a(25),P=a.n(T),E=function(e){return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null};function D(){var e=E("user");return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}var L="https://fathomless-atoll-35515.herokuapp.com/home/",z=a(253),A=Object(z.a)({media:{height:0,paddingTop:"56.25%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken"},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},description:{display:"flex",justifyContent:"space-between",margin:"20px"},username:{padding:"0 16px"},cardActions:{padding:"0 16px 8px 16px",display:"flex",justifyContent:"space-between"}}),_="https://fathomless-atoll-35515.herokuapp.com/",G=function(e,t){return P.a.post(_+"api/auth/signin",{username:e,password:t}).then((function(e){var t,a;return e.data.accessToken&&(t="user",a=e.data,localStorage.setItem(t,JSON.stringify(a))),e.data}))},J=function(){var e;e="user",localStorage.removeItem(e)},R=function(){return E("user")},M=function(e){var t=e.post,a=e.setPostId,s=e.updatePost,c=R(),r=A(),i=t._id,l=c.id;console.log("here is the post data on post.js:",t);var d=Object(o.f)();return Object(n.jsxs)(h.a,{className:r.card,children:[Object(n.jsx)(p.a,{className:r.media,image:t.image||"https://i.imgur.com/VQJtZJh.jpg"}),Object(n.jsxs)("div",{className:r.overlay,children:[Object(n.jsx)(O.a,{variant:"h6",children:t.user.username}),Object(n.jsx)(O.a,{variant:"body2",children:C()(t.createdAt).fromNow()})]}),Object(n.jsx)("div",{className:r.overlay2,children:Object(n.jsx)(x.a,{style:{color:"white"},size:"small",onClick:function(){return a(i)},children:Object(n.jsx)(S.a,{fontSize:"default"})})}),Object(n.jsx)(f.a,{children:Object(n.jsx)(O.a,{variant:"body2",color:"textSecondary",component:"p",children:t.description})}),Object(n.jsxs)(g.a,{className:r.cardActions,children:[Object(n.jsxs)(x.a,{size:"small",color:"primary",onClick:function(){!function(e){P.a.put("".concat(L).concat(e,"/likePost"))}(i),s()},children:[Object(n.jsx)(N.a,{fontSize:"small"})," Like ",t.likeCount," "]}),Object(n.jsxs)(x.a,{size:"small",color:"primary",onClick:function(){!function(e,t){P()({method:"DELETE",url:L+"".concat(e),userId:t,headers:D()})}(i,l),setTimeout((function(){d.push("/home"),window.location.reload(!1)}),500)},children:[Object(n.jsx)(w.a,{fontSize:"small"})," Delete"]})]})]})},W=Object(z.a)((function(e){return{mainContainer:{display:"flex",alignItems:"center"},smMargin:{margin:e.spacing(1)},actionDiv:{textAlign:"center"}}})),B=function(e){var t=e.setPostId,a=e.posts,s=e.updatePost,c=W();return a.length?Object(n.jsx)(m.a,{className:c.container,container:!0,alignItems:"stretch",spacing:3,children:a.map((function(e){return Object(n.jsx)(m.a,{item:!0,xs:12,sm:6,md:6,children:Object(n.jsx)(M,{post:e,setPostId:t,updatePost:s})},e._id)}))}):Object(n.jsx)(b.a,{})},q=a(43),H=a(225),V=a(264),U=a(100),F=a.n(U),Q=Object(z.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{marginBottom:10}}})),Y=function(e){var t=R(),a=Q(),c=Object(s.useState)({description:"",image:"",user:t.id}),r=Object(u.a)(c,2),i=r[0],l=r[1],d=Object(o.f)();Object(s.useEffect)((function(){l(e.post)}),[e.post]);return Object(n.jsxs)("div",{children:[console.log("this is the post data before upload:",i),Object(n.jsx)(H.a,{className:a.paper,children:Object(n.jsxs)("form",{onSubmit:function(t){var a,n;t.preventDefault(),e.postId?(console.log(e.postId),(a=e.postId,n=i,P.a.put(L+"".concat(a),n)).then((function(e){setTimeout((function(){d.push("/home"),window.location.reload(!1)}),2e3)}),(function(e){console.log(e)}))):(console.log("post data on line 34:",i),console.log("testing the type of image",typeof i.image),function(e){return P.a.post(L+"upload",{postData:e})}(i).then((function(e){setTimeout((function(){d.push("/home"),window.location.reload(!1)}),2e3)}),(function(e){console.log(e)})))},noValidate:!0,className:"".concat(a.root," ").concat(a.form),children:[Object(n.jsx)(O.a,{variant:"h6",children:"Share your pet pic!"}),Object(n.jsx)("div",{children:Object(n.jsx)(F.a,{type:"file",label:"file",multiple:!1,onDone:function(e){var a=e.base64;return l(Object(q.a)(Object(q.a)({},i),{},{user:t.id,image:a}))}})}),Object(n.jsx)(V.a,{name:"description",label:"description",value:i?i.description:"Type in a description!",onChange:function(e){return l(Object(q.a)(Object(q.a)({},i),{},{user:t.id,description:e.target.value}))}}),Object(n.jsx)(x.a,{className:a.buttonSubmit,variant:"contained",color:"primary",size:"large",type:"submit",fullWidth:!0,children:"Submit"})]})})]})},Z=(a(78),function(){R();var e=Object(s.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(s.useState)(null),i=Object(u.a)(r,2),o=i[0],l=i[1],d=Object(s.useState)(!1),j=Object(u.a)(d,2),b=j[0],m=j[1];Object(s.useEffect)((function(){P.a.get(L).then((function(e){c(e.data),console.log(e.data)}))}),[]);return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"title",children:"Welcome to Petflix"}),Object(n.jsxs)("div",{className:"gallery",children:[Object(n.jsx)(B,{setPostId:l,posts:a,updatePost:function(){m(!b)}}),Object(n.jsx)(Y,{postId:o,setPost:function(e){l()}})]})]})});a(137);function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function X(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var $=s.createElement("path",{d:"M45.5 48H30.1c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2.1-4.6-4.6-4.6s-4.6 2.1-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.6-.6 2.1 0l21.5 21.5c.3.3.4.7.4 1.1v23.5c.1.8-.6 1.5-1.4 1.5z"});function ee(e,t){var a=e.title,n=e.titleId,c=X(e,["title","titleId"]);return s.createElement("svg",K({"aria-label":"Home",className:"_8-yf5 ",fill:"#262626",height:22,viewBox:"0 0 48 48",width:22,ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,$)}var te=s.forwardRef(ee),ae=(a.p,function(e){var t=Object(s.useState)(!1),a=Object(u.a)(t,2),c=a[0],r=a[1],o=Object(s.useState)(void 0),l=Object(u.a)(o,2),d=l[0],j=l[1];Object(s.useEffect)((function(){var e=R();e&&(j(e),r(e.roles.includes("ROLE_ADMIN")))}),[]);return Object(n.jsxs)("div",{children:[Object(n.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(n.jsx)(i.b,{to:"/",className:"navbar-brand",children:Object(n.jsx)("strong",{children:"Petflix"})}),Object(n.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{to:"/about",className:"nav-link",children:"About"})}),c&&Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{to:"/admin",className:"nav-link",children:"Admin Board"})}),d&&Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{to:"/home",className:"nav-link",children:Object(n.jsx)(te,{})})})]}),d?Object(n.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{to:"/profile",className:"nav-link",children:d.username})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)("a",{href:"/login",className:"nav-link",onClick:function(){J()},children:"Log Out"})})]}):Object(n.jsx)("div",{className:"navbar-nav ml-auto",children:Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{to:"/login",className:"nav-link",children:"Login"})})})]}),Object(n.jsx)("div",{className:"container mt-3",children:e.children})]})}),ne=a(53),se=a.n(ne),ce=a(32),re=a.n(ce),ie=a(54),oe=a.n(ie),le=function(e){var t=e.children,a=e.text;return Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:a,children:a.slice(0,1).toUpperCase()+a.slice(1,a.length)}),t]})},de=function(e){var t=e.loading,a=e.text;return Object(n.jsx)("div",{className:"form-group",children:Object(n.jsxs)("button",{className:"btn btn-primary btn-block",disabled:t,children:[t&&Object(n.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(n.jsx)("span",{children:a})]})})},je=function(e){return e.response&&e.response.data&&e.response.data.message||e.toString()},ue=function(e){if(!e)return Object(n.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},be=function(e){var t=Object(s.useRef)(),a=Object(s.useRef)(),c=Object(s.useState)(""),r=Object(u.a)(c,2),i=r[0],o=r[1],l=Object(s.useState)(""),d=Object(u.a)(l,2),j=d[0],b=d[1],m=Object(s.useState)(!1),h=Object(u.a)(m,2),p=h[0],O=h[1],x=Object(s.useState)(""),f=Object(u.a)(x,2),g=f[0],v=f[1];return Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsxs)("div",{className:"card card-container",children:[Object(n.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(n.jsxs)(se.a,{onSubmit:function(n){n.preventDefault(),v(""),O(!0),t.current.validateAll(),console.log(a.current),0===a.current.context._errors.length?G(i,j).then((function(){e.history.push("/home"),window.location.reload()}),(function(e){O(!1),v(je(e))})):O(!1)},ref:t,children:[Object(n.jsx)(le,{text:"username",children:Object(n.jsx)(re.a,{type:"text",className:"form-control",name:"username",value:i,onChange:function(e){var t=e.target.value;o(t)},validations:[ue]})}),Object(n.jsx)(le,{text:"password",children:Object(n.jsx)(re.a,{type:"password",className:"form-control",name:"password",value:j,onChange:function(e){var t=e.target.value;b(t)},validations:[ue]})}),Object(n.jsx)(de,{text:"login",loading:p}),g&&Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("div",{className:"alert alert-danger",role:"alert",children:g})}),Object(n.jsx)(oe.a,{style:{display:"none"},ref:a})]})]})})},me=a(101),he=function(e){if(!e)return Object(n.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},pe=function(e){if(e.length<3||e.length>=20)return Object(n.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The username must be between 3 and 20 characters."})},Oe=function(e){if(e.length<6||e.length>=40)return Object(n.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password must be between 6 and 40 characters."})},xe=function(e){if(!Object(me.isEmail)(e))return Object(n.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The email must be valid."})},fe=function(e){var t=Object(s.useRef)(),a=Object(s.useRef)(),c=Object(s.useState)(""),r=Object(u.a)(c,2),i=r[0],o=r[1],l=Object(s.useState)(""),d=Object(u.a)(l,2),j=d[0],b=d[1],m=Object(s.useState)(""),h=Object(u.a)(m,2),p=h[0],O=h[1],x=Object(s.useState)(!1),f=Object(u.a)(x,2),g=f[0],v=f[1],N=Object(s.useState)(""),y=Object(u.a)(N,2),w=y[0],k=y[1];return Object(n.jsx)("div",{className:"col-md-12",children:Object(n.jsxs)("div",{className:"card card-container",children:[Object(n.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(n.jsxs)(se.a,{onSubmit:function(n){n.preventDefault(),k(""),v(!1),t.current.validateAll(),0===a.current.context._errors.length&&function(e,t,a){return P.a.post(_+"api/auth/signup",{username:e,email:t,password:a})}(i,p,j).then((function(t){k(t.data.message),v(!0),setTimeout((function(){e.history.push("/login")}),1e3)}),(function(e){k(je(e)),v(!1)}))},ref:t,children:[Object(n.jsx)(le,{text:"username",children:Object(n.jsx)(re.a,{type:"text",className:"form-control",name:"username",value:i,onChange:function(e){var t=e.target.value;o(t)},validations:[he,pe]})}),Object(n.jsx)(le,{text:"email",children:Object(n.jsx)(re.a,{type:"text",className:"form-control",name:"username",value:p,onChange:function(e){var t=e.target.value;O(t)},validations:[he,xe]})}),Object(n.jsx)(le,{text:"password",children:Object(n.jsx)(re.a,{type:"password",className:"form-control",name:"password",value:j,onChange:function(e){var t=e.target.value;b(t)},validations:[he,Oe]})}),Object(n.jsx)(de,{text:"Sign Up"}),w&&Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("div",{className:g?"alert alert-success":"alert alert-danger",role:"alert",children:w})}),Object(n.jsx)(oe.a,{style:{display:"none"},ref:a})]})]})})},ge=function(){var e=R();return console.log(e),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("header",{className:"jumbotron",children:Object(n.jsx)("h3",{children:Object(n.jsxs)("strong",{children:["Welcome, ",e.username]})})}),Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:"Id:"}),e.id]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:"Email:"}),e.email]}),e.roles&&e.roles.map((function(e,t){return Object(n.jsx)("li",{children:e},t)}))]})},ve=a.p+"static/media/Lam.7f2e5d7b.jpg",Ne=a.p+"static/media/Trez.1a1c3e72.jpg",ye=a.p+"static/media/Gabe.13ab12bc.jpg",we=function(){return Object(n.jsxs)("div",{className:"about",children:[Object(n.jsx)("img",{src:d,alt:"Logo",className:"aboutlogo"}),Object(n.jsx)("div",{className:"mainheader",children:Object(n.jsx)("u",{children:"About Petflix & its Developers"})}),Object(n.jsx)("div",{className:"aboutapp",children:Object(n.jsx)("p",{children:"This is the app for all animal lovers! Your pets want posts about them? They want an application that involves just the pets? They want to be posted at the waterparks, enjoying the nice sunsets, or even posted of them winning a pet race? Well The Callback Cats have an app for you pet lovers. Come sign up for an instagram version for your pets. No humans allowed!!"})}),Object(n.jsxs)("div",{className:"developer",style:{width:"18rem"},children:[Object(n.jsx)("div",{className:"name",children:Object(n.jsx)("h2",{children:Object(n.jsx)("u",{children:"Lam-Anh Le"})})}),Object(n.jsx)("img",{src:ve,className:"DevImage",alt:"Lam"}),Object(n.jsx)("div",{className:"aboutdev",children:Object(n.jsx)("p",{children:"I am a data-driven, human-centric design expert with extensive history in communications strategy and programming, eager to apply my passion for public service with my project management and problem-solving skills to any challenge."})}),Object(n.jsx)("a",{href:"https://github.com/xlnl",className:"gitlink",children:"Lam's Github"})]}),Object(n.jsxs)("div",{className:"developer",style:{width:"18rem"},children:[Object(n.jsx)("div",{className:"name",children:Object(n.jsx)("h2",{children:Object(n.jsx)("u",{children:"Trez Crawford"})})}),Object(n.jsx)("img",{src:Ne,className:"DevImage2",alt:"Trez"}),Object(n.jsx)("div",{className:"aboutdev",children:Object(n.jsx)("p",{children:"I am a Software Engineer focused on problem solving using many different variation of coding languages. With dedication, determination, and hard-work I plan to implement my skills into every single task that is placed in front of me."})}),Object(n.jsx)("a",{href:"https://github.com/NatrezC",className:"gitlink",children:"Trez's Github"})]}),Object(n.jsxs)("div",{className:"developer",style:{width:"18rem"},children:[Object(n.jsx)("div",{className:"name",children:Object(n.jsx)("h2",{children:Object(n.jsx)("u",{children:"Gabriel Go"})})}),Object(n.jsx)("img",{src:ye,className:"DevImage",alt:"Gabe"}),Object(n.jsx)("div",{className:"aboutdev",children:Object(n.jsx)("p",{children:"As a driven software engineer, I always look for innovative ways to expand my knowledge of programming techniques. My calling lies in front end development as I have a unique vision for aesthetic and conveying my product vision through my work."})}),Object(n.jsx)("a",{href:"https://github.com/granddivino",className:"gitlink",children:"Gabe's Github"})]})]})},ke=function(){return Object(n.jsx)(ae,{children:Object(n.jsxs)(o.c,{children:[Object(n.jsx)(o.a,{exact:!0,path:"/",component:j}),Object(n.jsx)(o.a,{exact:!0,path:"/home",component:Z}),Object(n.jsx)(o.a,{exact:!0,path:"/home/upload",component:Y}),Object(n.jsx)(o.a,{exact:!0,path:"/login",component:be}),Object(n.jsx)(o.a,{exact:!0,path:"/signup",component:fe}),Object(n.jsx)(o.a,{exact:!0,path:"/profile",component:ge}),Object(n.jsx)(o.a,{exact:!0,path:"/about",component:we})]})})};a(221),a(222);r.a.render(Object(n.jsx)(i.a,{children:Object(n.jsx)(ke,{})}),document.getElementById("root"))},78:function(e,t,a){}},[[223,1,2]]]);
//# sourceMappingURL=main.1af36bb4.chunk.js.map